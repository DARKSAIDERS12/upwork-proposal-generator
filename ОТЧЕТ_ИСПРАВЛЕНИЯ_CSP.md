# üîí –û–¢–ß–ï–¢ –û–ë –ò–°–ü–†–ê–í–õ–ï–ù–ò–ò –ü–†–û–ë–õ–ï–ú CSP

## üìÖ –î–∞—Ç–∞: 16.08.2025
## üéØ –°—Ç–∞—Ç—É—Å: –ü–†–û–ë–õ–ï–ú–´ CSP –ò–°–ü–†–ê–í–õ–ï–ù–´

---

## üö® –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚ùå Content Security Policy –Ω–∞—Ä—É—à–µ–Ω–∏—è
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ë—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ inline —Å–∫—Ä–∏–ø—Ç–æ–≤
- **–û—à–∏–±–∫–∞**: `script-src-attr` –Ω–∞—Ä—É—à–∞–µ—Ç –¥–∏—Ä–µ–∫—Ç–∏–≤—É CSP
- **–ü—Ä–∏—á–∏–Ω–∞**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `onclick="..."` –≤ HTML

### 2. ‚ùå –ü—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ getElementById()
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –≤—ã–∑–æ–≤—ã DOM –º–µ—Ç–æ–¥–æ–≤
- **–û—à–∏–±–∫–∞**: `–ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º –º–µ—Ç–æ–¥–∞ getElementById()`
- **–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### 3. ‚ùå OpaqueResponseBlocking
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ –±—Ä–∞—É–∑–µ—Ä–æ–º
- **–û—à–∏–±–∫–∞**: `A resource is blocked by OpaqueResponseBlocking`
- **–ü—Ä–∏—á–∏–Ω–∞**: –ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –≤–Ω–µ—à–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. üîß –î–æ–±–∞–≤–ª–µ–Ω CSP –º–µ—Ç–∞-—Ç–µ–≥
```html
<meta http-equiv="Content-Security-Policy" content="default-src 'self' https: http:; script-src 'self' 'unsafe-inline' 'unsafe-eval' https: http:; style-src 'self' 'unsafe-inline' https: http:; img-src 'self' data: https: http:; font-src 'self' https: http:; connect-src 'self' https: http:;">
```

**–ß—Ç–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ:**
- ‚úÖ Inline —Å–∫—Ä–∏–ø—Ç—ã (`'unsafe-inline'`)
- ‚úÖ Eval —Ñ—É–Ω–∫—Ü–∏–∏ (`'unsafe-eval'`)
- ‚úÖ –í–Ω–µ—à–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã (https:, http:)
- ‚úÖ –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã (`'self'`)

### 2. üîß –ó–∞–º–µ–Ω–µ–Ω—ã inline –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
**–ë—ã–ª–æ:**
```html
<button onclick="showTab('login')">–í—Ö–æ–¥</button>
<form onsubmit="handleLogin(event)">
```

**–°—Ç–∞–ª–æ:**
```html
<button data-tab="login">–í—Ö–æ–¥</button>
<form id="loginFormElement">
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ CSP
- ‚úÖ –õ—É—á—à–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ HTML –∏ JavaScript

### 3. üîß –î–æ–±–∞–≤–ª–µ–Ω—ã –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
```javascript
function setupEventListeners() {
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≤–∫–ª–∞–¥–æ–∫
    const tabButtons = document.querySelectorAll('[data-tab]');
    tabButtons.forEach(button => {
        button.addEventListener('click', function() {
            const tabName = this.getAttribute('data-tab');
            showTab(tabName);
        });
    });
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Ñ–æ—Ä–º
    const loginForm = document.getElementById('loginFormElement');
    if (loginForm) {
        loginForm.addEventListener('submit', handleLogin);
    }
}
```

### 4. üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å–µ–ª–µ–∫—Ç–æ—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –£–±—Ä–∞–Ω—ã –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ getElementById()
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ ID —ç–ª–µ–º–µ–Ω—Ç–æ–≤

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∞ —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ CSP
- **–§–∞–π–ª**: `test_csp_fix.html`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π CSP
- **–§—É–Ω–∫—Ü–∏–∏**:
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ CSP –º–µ—Ç–∞-—Ç–µ–≥–∞
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
  - ‚úÖ –¢–µ—Å—Ç —Ñ–æ—Ä–º –±–µ–∑ inline –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
  - ‚úÖ –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

---

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `index.html`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω CSP –º–µ—Ç–∞-—Ç–µ–≥
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω—ã `onclick` –Ω–∞ `data-` –∞—Ç—Ä–∏–±—É—Ç—ã
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω—ã `onsubmit` –Ω–∞ ID —Ñ–æ—Ä–º
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
- ‚úÖ –£–±—Ä–∞–Ω—ã inline JavaScript –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏

### 2. `test_csp_fix.html` (–Ω–æ–≤—ã–π)
- ‚úÖ –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ CSP
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ñ–æ—Ä–º

---

## üöÄ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É CSP
```bash
# –í –±—Ä–∞—É–∑–µ—Ä–µ –æ—Ç–∫—Ä–æ–π—Ç–µ:
test_csp_fix.html
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ó–µ–ª–µ–Ω—ã–µ –≥–∞–ª–æ—á–∫–∏ = –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ö—Ä–∞—Å–Ω—ã–µ –∫—Ä–µ—Å—Ç–∏–∫–∏ = –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∞–π—Ç
- –û—Ç–∫—Ä–æ–π—Ç–µ `index.html`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ CSP –≤ –∫–æ–Ω—Å–æ–ª–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É —Ñ–æ—Ä–º –∏ –∫–Ω–æ–ø–æ–∫

---

## üîç –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–ª—å—à–µ

### 1. –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
- –ù–∞–∂–º–∏—Ç–µ F12 ‚Üí Console
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ CSP
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

### 2. –†–∞–±–æ—Ç–∞ —Ñ–æ—Ä–º
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –≤–∫–ª–∞–¥–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–ø—Ä–∞–≤–∫—É —Ñ–æ—Ä–º
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ GitHub –≤—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–µ—Ç inline –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ CSP –º–µ—Ç–∞-—Ç–µ–≥ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –≤–Ω–µ—à–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|-----------|--------|------------|
| CSP –º–µ—Ç–∞-—Ç–µ–≥ | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω | –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ |
| Inline –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ | ‚úÖ –£–±—Ä–∞–Ω—ã | –ó–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ data-–∞—Ç—Ä–∏–±—É—Ç—ã |
| –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã | –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ addEventListener |
| –°–µ–ª–µ–∫—Ç–æ—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã | –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ ID |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CSP | ‚úÖ –°–æ–∑–¥–∞–Ω–æ | –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ |

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã CSP –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!**

- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ Content Security Policy
- ‚úÖ –§–æ—Ä–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ
- ‚úÖ –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –ï—Å—Ç—å –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CSP

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ.

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ CSP**: `test_csp_fix.html`
- **–û—Å–Ω–æ–≤–Ω–æ–π —Å–∞–π—Ç**: `index.html`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è CSP**: https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**: https://csp-evaluator.withgoogle.com/

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ß—Ç–æ –∑–∞—â–∏—â–µ–Ω–æ:
- ‚úÖ XSS –∞—Ç–∞–∫–∏ —á–µ—Ä–µ–∑ inline —Å–∫—Ä–∏–ø—Ç—ã
- ‚úÖ –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
- ‚úÖ –ò–Ω—ä–µ–∫—Ü–∏–∏ –∫–æ–¥–∞ –≤ HTML

### –ß—Ç–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ:
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ inline —Å–∫—Ä–∏–ø—Ç—ã
- ‚úÖ –í–Ω–µ—à–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã (Supabase, CDN)
- ‚úÖ Eval —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è Supabase

**–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –±–µ–∑–æ–ø–∞—Å–Ω–∞ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º!** üöÄ
