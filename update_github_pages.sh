#!/bin/bash

echo "üöÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ GitHub Pages..."

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –º—ã –≤ –≤–µ—Ç–∫–µ main
current_branch=$(git branch --show-current)
if [ "$current_branch" != "main" ]; then
    echo "‚ùå –û—à–∏–±–∫–∞: –í—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –≤–µ—Ç–∫–µ main"
    echo "–¢–µ–∫—É—â–∞—è –≤–µ—Ç–∫–∞: $current_branch"
    exit 1
fi

# –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
echo "üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ main..."
git add .
git commit -m "Auto-update: $(date '+%Y-%m-%d %H:%M:%S')" || echo "–ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –∫–æ–º–º–∏—Ç–∞"

# –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ main
echo "üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ main..."
git push origin main

# –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ gh-pages
echo "üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –≤–µ—Ç–∫—É gh-pages..."
git checkout gh-pages

# –û–±–Ω–æ–≤–ª—è–µ–º gh-pages –∏–∑ main
echo "üì• –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ gh-pages –∏–∑ main..."
git merge main

# –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é gh-pages
echo "üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–π gh-pages..."
git push origin gh-pages

# –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –Ω–∞ main
echo "üîÑ –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –≤–µ—Ç–∫—É main..."
git checkout main

echo ""
echo "‚úÖ GitHub Pages –æ–±–Ω–æ–≤–ª–µ–Ω!"
echo "üåç –í–∞—à —Å–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: https://darksaiders12.github.io/upwork-proposal-generator/"
echo "‚è∞ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–π–º–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç..."
echo ""
echo "üîê –°–µ—Ä–≤–µ—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏: https://upwork-auth-server.onrender.com"
echo "üì± –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤—Ö–æ–¥–∏—Ç—å –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Å –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞!" 