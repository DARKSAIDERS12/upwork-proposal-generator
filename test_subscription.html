<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß™ –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥–ø–∏—Å–æ–∫</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 30px;
        }

        .test-section {
            margin-bottom: 40px;
            padding: 25px;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            background: #fafafa;
        }

        .test-section h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .user-card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .user-info {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        .info-item {
            text-align: center;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .info-label {
            font-weight: bold;
            color: #666;
            font-size: 0.9em;
        }

        .info-value {
            font-size: 1.2em;
            color: #333;
            margin-top: 5px;
        }

        .status-free {
            color: #28a745;
        }

        .status-premium {
            color: #007bff;
        }

        .status-expired {
            color: #dc3545;
        }

        .actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: #007bff;
            color: white;
        }

        .btn-primary:hover {
            background: #0056b3;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #1e7e34;
        }

        .btn-warning {
            background: #ffc107;
            color: #212529;
        }

        .btn-warning:hover {
            background: #e0a800;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
        }

        .log {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            max-height: 200px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 0.9em;
        }

        .log-entry {
            margin-bottom: 5px;
            padding: 5px;
            border-radius: 4px;
        }

        .log-success {
            background: #d4edda;
            color: #155724;
        }

        .log-error {
            background: #f8d7da;
            color: #721c24;
        }

        .log-info {
            background: #d1ecf1;
            color: #0c5460;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #007bff;
        }

        .stat-label {
            color: #666;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .user-info {
                grid-template-columns: 1fr 1fr;
            }
            
            .actions {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß™ –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥–ø–∏—Å–æ–∫</h1>
            <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ Upwork Proposal Generator</p>
        </div>

        <div class="content">
            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number" id="totalUsers">0</div>
                    <div class="stat-label">–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="freeUsers">0</div>
                    <div class="stat-label">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="premiumUsers">0</div>
                    <div class="stat-label">Premium</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalProposals">0</div>
                    <div class="stat-label">–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Å–µ–≥–æ–¥–Ω—è</div>
                </div>
            </div>

            <!-- –¢–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ -->
            <div class="test-section">
                <h2>üë• –¢–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h2>
                <div id="usersList"></div>
            </div>

            <!-- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π -->
            <div class="test-section">
                <h2>üéØ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π</h2>
                <div class="actions">
                    <button class="btn btn-primary" onclick="testGenerateProposal()">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</button>
                    <button class="btn btn-success" onclick="testUpgradeToPremium()">–û–±–Ω–æ–≤–∏—Ç—å –¥–æ Premium</button>
                    <button class="btn btn-warning" onclick="testDailyReset()">–°–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å–±—Ä–æ—Å –¥–Ω—è</button>
                    <button class="btn btn-danger" onclick="clearLog()">–û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥</button>
                </div>
                <div class="log" id="testLog"></div>
            </div>

            <!-- –°—Å—ã–ª–∫–∏ -->
            <div class="test-section">
                <h2>üîó –°—Å—ã–ª–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
                <div class="actions">
                    <a href="http://localhost:3000" class="btn btn-primary" target="_blank">–õ–æ–∫–∞–ª—å–Ω—ã–π —Å–∞–π—Ç</a>
                    <a href="https://darksaiders12.github.io/upwork-proposal-generator/" class="btn btn-success" target="_blank">–ü—É–±–ª–∏—á–Ω—ã–π —Å–∞–π—Ç</a>
                    <a href="https://github.com/DARKSAIDERS12/upwork-proposal-generator" class="btn btn-warning" target="_blank">GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        let testUsers = [
            {
                id: 1,
                email: 'test_free@example.com',
                subscription: 'free',
                dailyRemaining: 3,
                lastResetDate: '2025-08-08',
                totalProposals: 0
            },
            {
                id: 2,
                email: 'test_premium@example.com',
                subscription: 'premium',
                dailyRemaining: 999,
                lastResetDate: '2025-08-08',
                totalProposals: 0
            },
            {
                id: 3,
                email: 'test_expired@example.com',
                subscription: 'free',
                dailyRemaining: 0,
                lastResetDate: '2025-08-07',
                totalProposals: 0
            }
        ];

        let selectedUserId = 1;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            updateStats();
            renderUsers();
            addLog('info', '–¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥–ø–∏—Å–æ–∫ –∑–∞–ø—É—â–µ–Ω');
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function updateStats() {
            document.getElementById('totalUsers').textContent = testUsers.length;
            document.getElementById('freeUsers').textContent = testUsers.filter(u => u.subscription === 'free').length;
            document.getElementById('premiumUsers').textContent = testUsers.filter(u => u.subscription === 'premium').length;
            document.getElementById('totalProposals').textContent = testUsers.reduce((sum, u) => sum + u.totalProposals, 0);
        }

        // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        function renderUsers() {
            const usersList = document.getElementById('usersList');
            usersList.innerHTML = '';

            testUsers.forEach(user => {
                const userCard = document.createElement('div');
                userCard.className = 'user-card';
                userCard.onclick = () => selectUser(user.id);

                const statusClass = user.subscription === 'premium' ? 'status-premium' : 
                                  user.dailyRemaining > 0 ? 'status-free' : 'status-expired';

                userCard.innerHTML = `
                    <div class="user-info">
                        <div class="info-item">
                            <div class="info-label">Email</div>
                            <div class="info-value">${user.email}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">–ü–æ–¥–ø–∏—Å–∫–∞</div>
                            <div class="info-value ${statusClass}">${user.subscription}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">–û—Å—Ç–∞–ª–æ—Å—å</div>
                            <div class="info-value">${user.dailyRemaining}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">–°–±—Ä–æ—Å</div>
                            <div class="info-value">${user.lastResetDate}</div>
                        </div>
                    </div>
                    <div class="actions">
                        <button class="btn btn-primary" onclick="event.stopPropagation(); testGenerateProposal(${user.id})">
                            –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å
                        </button>
                        <button class="btn btn-success" onclick="event.stopPropagation(); testUpgradeToPremium(${user.id})">
                            –û–±–Ω–æ–≤–∏—Ç—å
                        </button>
                        <button class="btn btn-warning" onclick="event.stopPropagation(); testDailyReset(${user.id})">
                            –°–±—Ä–æ—Å –¥–Ω—è
                        </button>
                    </div>
                `;

                if (user.id === selectedUserId) {
                    userCard.style.border = '2px solid #007bff';
                    userCard.style.background = '#f8f9ff';
                }

                usersList.appendChild(userCard);
            });
        }

        // –í—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function selectUser(userId) {
            selectedUserId = userId;
            renderUsers();
            addLog('info', `–í—ã–±—Ä–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ${testUsers.find(u => u.id === userId).email}`);
        }

        // –¢–µ—Å—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
        function testGenerateProposal(userId = selectedUserId) {
            const user = testUsers.find(u => u.id === userId);
            if (!user) return;

            addLog('info', `–ü–æ–ø—ã—Ç–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –¥–ª—è ${user.email}`);

            if (user.subscription === 'premium') {
                user.totalProposals++;
                addLog('success', `‚úÖ Premium –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${user.email} - –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ (–Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ)`);
            } else if (user.dailyRemaining > 0) {
                user.dailyRemaining--;
                user.totalProposals++;
                addLog('success', `‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${user.email} - –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ (–æ—Å—Ç–∞–ª–æ—Å—å: ${user.dailyRemaining})`);
            } else {
                addLog('error', `‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${user.email} - –ª–∏–º–∏—Ç –∏—Å—á–µ—Ä–ø–∞–Ω, —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ Premium`);
            }

            updateStats();
            renderUsers();
        }

        // –¢–µ—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ Premium
        function testUpgradeToPremium(userId = selectedUserId) {
            const user = testUsers.find(u => u.id === userId);
            if (!user) return;

            if (user.subscription === 'premium') {
                addLog('info', `‚ÑπÔ∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${user.email} —É–∂–µ –∏–º–µ–µ—Ç Premium –ø–æ–¥–ø–∏—Å–∫—É`);
                return;
            }

            user.subscription = 'premium';
            user.dailyRemaining = 999;
            addLog('success', `‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${user.email} –æ–±–Ω–æ–≤–ª–µ–Ω –¥–æ Premium –ø–æ–¥–ø–∏—Å–∫–∏`);

            updateStats();
            renderUsers();
        }

        // –¢–µ—Å—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ —Å–±—Ä–æ—Å–∞
        function testDailyReset(userId = selectedUserId) {
            const user = testUsers.find(u => u.id === userId);
            if (!user) return;

            if (user.subscription === 'premium') {
                addLog('info', `‚ÑπÔ∏è Premium –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –∏–º–µ—é—Ç –¥–Ω–µ–≤–Ω—ã—Ö –ª–∏–º–∏—Ç–æ–≤`);
                return;
            }

            const today = new Date().toISOString().split('T')[0];
            if (user.lastResetDate !== today) {
                user.lastResetDate = today;
                user.dailyRemaining = 3;
                addLog('success', `‚úÖ –°–±—Ä–æ—Å –¥–Ω–µ–≤–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞ –¥–ª—è ${user.email}: 0 ‚Üí 3`);
            } else {
                addLog('info', `‚ÑπÔ∏è –°–±—Ä–æ—Å –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è ${user.email} (—É–∂–µ —Å–µ–≥–æ–¥–Ω—è)`);
            }

            renderUsers();
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ª–æ–≥
        function addLog(type, message) {
            const log = document.getElementById('testLog');
            const entry = document.createElement('div');
            entry.className = `log-entry log-${type}`;
            
            const timestamp = new Date().toLocaleTimeString();
            entry.textContent = `[${timestamp}] ${message}`;
            
            log.appendChild(entry);
            log.scrollTop = log.scrollHeight;
        }

        // –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–∞
        function clearLog() {
            document.getElementById('testLog').innerHTML = '';
            addLog('info', '–õ–æ–≥ –æ—á–∏—â–µ–Ω');
        }

        // –ó–∞–ø—É—Å–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
        init();
    </script>
</body>
</html> 